var n=function(t,s,r,e){var u;s[0]=0;for(var h=1;h<s.length;h++){var a=s[h++],l=s[h]?(s[0]|=a?1:2,r[s[h++]]):s[++h];3===a?e[0]=l:4===a?e[1]=Object.assign(e[1]||{},l):5===a?(e[1]=e[1]||{})[s[++h]]=l:6===a?e[1][s[++h]]+=l+"":a?(u=t.apply(l,n(t,l,r,["",null])),e.push(u),l[0]?s[0]|=2:(s[h-2]=0,s[h]=u)):e.push(l)}return e},t=new Map;export default function(s){var r=t.get(this);return r||(r=new Map,t.set(this,r)),(r=n(this,r.get(s)||(r.set(s,r=function(t){for(var s,r,e=1,u="",h="",a=[0],p=function(t){1===e&&(t||(u=u.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?a.push(0,t,u):3===e&&(t||u)?(a.push(3,t,u),e=2):2===e&&"..."===u&&t?a.push(4,t,0):2===e&&u&&!t?a.push(5,0,!0,u):e>=5&&((u||!t&&5===e)&&(a.push(e,0,u,r),e=6),t&&(a.push(e,t,0,r),e=6)),u=""},l=0;l<t.length;l++){l&&(1===e&&p(),p(l));for(var f=0;f<t[l].length;f++)s=t[l][f],1===e?"<"===s?(p(),a=[a],e=3):u+=s:4===e?"--"===u&&">"===s?(e=1,u=""):u=s+u[0]:h?s===h?h="":u+=s:'"'===s||"'"===s?h=s:">"===s?(p(),e=1):e&&("="===s?(e=5,r=u,u=""):"/"===s&&(e<5||">"===t[l][f+1])?(p(),3===e&&(a=a[0]),e=a,(a=a[0]).push(2,0,e),e=0):" "===s||"\t"===s||"\n"===s||"\r"===s?(p(),e=2):u+=s),3===e&&"!--"===u&&(e=4,a=a[0])}return p(),a}(s)),r),arguments,[])).length>1?r:r[0]}